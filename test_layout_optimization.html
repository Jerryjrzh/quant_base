<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>å¸ƒå±€ä¼˜åŒ–æµ‹è¯•</title>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.3.3/dist/echarts.min.js"></script>
    <style>
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            background-color: #f0f2f5; 
            margin: 0;
            padding: 0;
        }
        
        .app-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 1rem 2rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .app-header h1 {
            margin: 0 0 1rem 0;
            font-size: 1.8rem;
            font-weight: 600;
        }
        
        .app-container {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
            padding: 1.5rem;
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .main-content {
            display: flex;
            gap: 1.5rem;
        }
        
        .chart-section {
            flex: 4;
            background: white;
            padding: 1.5rem;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
        }
        
        #chart-container { 
            width: 100%; 
            height: 650px; 
        }
        
        .sidebar {
            flex: 0 0 280px;
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
            min-width: 280px;
            max-width: 280px;
        }
        
        .trading-advice-panel {
            background: white;
            padding: 1rem;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
        }
        
        .backtest-panel {
            background: white;
            padding: 1rem;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
        }
        
        .advice-header {
            border-bottom: 2px solid #f0f2f5;
            padding-bottom: 0.8rem;
            margin-bottom: 1rem;
        }
        
        .advice-header h3 {
            margin: 0;
            color: #2c3e50;
            font-size: 1rem;
        }
        
        .action-recommendation {
            text-align: center;
            padding: 0.8rem;
            border-radius: 8px;
            margin-bottom: 1rem;
            background: #d4edda;
            color: #155724;
        }
        
        .action-text {
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 0.3rem;
        }
        
        .confidence-text {
            font-size: 0.8rem;
            opacity: 0.8;
        }
        
        .price-levels {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0.6rem;
            margin-bottom: 1rem;
        }
        
        .price-item {
            text-align: center;
            padding: 0.5rem;
            background: #f8f9fa;
            border-radius: 6px;
        }
        
        .price-label {
            font-size: 0.7rem;
            color: #6c757d;
            margin-bottom: 0.2rem;
        }
        
        .price-value {
            font-size: 0.85rem;
            font-weight: 600;
            color: #2c3e50;
        }
        
        .analysis-logic h4 {
            margin: 0 0 0.6rem 0;
            color: #2c3e50;
            font-size: 0.9rem;
        }
        
        .logic-item {
            display: flex;
            align-items: flex-start;
            margin-bottom: 0.5rem;
            font-size: 0.8rem;
            line-height: 1.3;
        }
        
        .logic-icon {
            color: #007bff;
            margin-right: 0.5rem;
            font-weight: bold;
        }
        
        .layout-info {
            background: #e3f2fd;
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1rem;
            font-size: 0.9rem;
        }
        
        .layout-info h4 {
            margin: 0 0 0.5rem 0;
            color: #1976d2;
        }
        
        .layout-info ul {
            margin: 0;
            padding-left: 1.2rem;
        }
        
        .layout-info li {
            margin-bottom: 0.3rem;
        }
    </style>
</head>
<body>
    <header class="app-header">
        <h1>å¸ƒå±€ä¼˜åŒ–æµ‹è¯• - å›¾è¡¨åŒºåŸŸæ‰©å¤§</h1>
    </header>
    
    <main class="app-container">
        <div class="layout-info">
            <h4>ğŸ¯ å¸ƒå±€ä¼˜åŒ–è¯´æ˜</h4>
            <ul>
                <li>å›¾è¡¨åŒºåŸŸä» flex: 3 è°ƒæ•´ä¸º flex: 4ï¼Œå ç”¨æ›´å¤šç©ºé—´</li>
                <li>å³ä¾§é¢æ¿å›ºå®šå®½åº¦280pxï¼Œæ›´ç´§å‡‘çš„è®¾è®¡</li>
                <li>å‡å°‘äº†é¢æ¿å†…éƒ¨çš„paddingå’Œmargin</li>
                <li>ä¼˜åŒ–äº†å­—ä½“å¤§å°å’Œé—´è·ï¼Œæé«˜ç©ºé—´åˆ©ç”¨ç‡</li>
            </ul>
        </div>
        
        <div class="main-content">
            <div class="chart-section">
                <div id="chart-container"></div>
            </div>
            
            <div class="sidebar">
                <div class="backtest-panel">
                    <h3 style="margin: 0 0 0.8rem 0; color: #2c3e50; font-size: 1rem;">å›æµ‹è¡¨ç°</h3>
                    <div class="backtest-summary" style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.6rem; margin-bottom: 0.8rem; font-size: 0.8rem;">
                        <div style="background: #f8f9fa; padding: 0.4rem; border-radius: 4px; text-align: center;">
                            <div style="color: #6c757d; font-size: 0.7rem;">æ€»ä¿¡å·</div>
                            <div style="font-weight: 600; color: #2c3e50; font-size: 0.85rem;">45</div>
                        </div>
                        <div style="background: #f8f9fa; padding: 0.4rem; border-radius: 4px; text-align: center;">
                            <div style="color: #6c757d; font-size: 0.7rem;">èƒœç‡</div>
                            <div style="font-weight: 600; color: #2c3e50; font-size: 0.85rem;">68.9%</div>
                        </div>
                        <div style="background: #f8f9fa; padding: 0.4rem; border-radius: 4px; text-align: center;">
                            <div style="color: #6c757d; font-size: 0.7rem;">å¹³å‡æ”¶ç›Š</div>
                            <div style="font-weight: 600; color: #28a745; font-size: 0.85rem;">5.2%</div>
                        </div>
                        <div style="background: #f8f9fa; padding: 0.4rem; border-radius: 4px; text-align: center;">
                            <div style="color: #6c757d; font-size: 0.7rem;">å¹³å‡å›æ’¤</div>
                            <div style="font-weight: 600; color: #dc3545; font-size: 0.85rem;">-2.1%</div>
                        </div>
                    </div>
                    <div class="state-stats-container">
                        <h4 style="margin: 0 0 0.6rem 0; color: #2c3e50; font-size: 0.9rem;">çŠ¶æ€ç»Ÿè®¡</h4>
                        <div style="font-size: 0.75rem;">
                            <div style="margin-bottom: 0.3rem;">PRE: 15ä¸ªä¿¡å·, èƒœç‡ 73.3%</div>
                            <div style="margin-bottom: 0.3rem;">MID: 18ä¸ªä¿¡å·, èƒœç‡ 66.7%</div>
                            <div>POST: 12ä¸ªä¿¡å·, èƒœç‡ 66.7%</div>
                        </div>
                    </div>
                </div>
                
                <div class="trading-advice-panel">
                    <div class="advice-header">
                        <h3>äº¤æ˜“å»ºè®®</h3>
                        <button style="float: right; padding: 0.3rem 0.8rem; background: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 0.8rem;">åˆ·æ–°</button>
                    </div>
                    <div class="advice-content">
                        <div class="action-recommendation">
                            <div class="action-text">å»ºè®®ä¹°å…¥</div>
                            <div class="confidence-text">ç½®ä¿¡åº¦: 85%</div>
                        </div>
                        
                        <div class="price-levels">
                            <div class="price-item">
                                <div class="price-label">å½“å‰ä»·æ ¼</div>
                                <div class="price-value">96.38</div>
                            </div>
                            <div class="price-item">
                                <div class="price-label">å»ºè®®å…¥åœº</div>
                                <div class="price-value">95.78</div>
                            </div>
                            <div class="price-item">
                                <div class="price-label">ç›®æ ‡ä»·ä½</div>
                                <div class="price-value">102.50</div>
                            </div>
                            <div class="price-item">
                                <div class="price-label">æ­¢æŸä»·ä½</div>
                                <div class="price-value">92.15</div>
                            </div>
                            <div class="price-item">
                                <div class="price-label">é˜»åŠ›ä½</div>
                                <div class="price-value">98.45</div>
                            </div>
                            <div class="price-item">
                                <div class="price-label">æ”¯æ’‘ä½</div>
                                <div class="price-value">94.20</div>
                            </div>
                        </div>
                        
                        <div class="analysis-logic">
                            <h4>åˆ†æé€»è¾‘</h4>
                            <div class="logic-item">
                                <span class="logic-icon">â€¢</span>
                                <span>MACDå³å°†é‡‘å‰ï¼ŒåŠ¨èƒ½è½¬å¼º</span>
                            </div>
                            <div class="logic-item">
                                <span class="logic-icon">â€¢</span>
                                <span>RSIå¤„äºè¶…å–åŒºåŸŸåå¼¹</span>
                            </div>
                            <div class="logic-item">
                                <span class="logic-icon">â€¢</span>
                                <span>æˆäº¤é‡æ”¾å¤§ï¼Œèµ„é‡‘æµå…¥</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
        // åˆå§‹åŒ–å›¾è¡¨
        const myChart = echarts.init(document.getElementById('chart-container'));
        
        // æ¨¡æ‹Ÿæ•°æ®
        const dates = [];
        const klineData = [];
        const difData = [];
        const deaData = [];
        const macdData = [];
        
        // ç”Ÿæˆ30å¤©çš„æ¨¡æ‹Ÿæ•°æ®
        for (let i = 0; i < 30; i++) {
            const date = new Date();
            date.setDate(date.getDate() - (29 - i));
            dates.push(date.toISOString().split('T')[0]);
            
            const basePrice = 95 + Math.sin(i * 0.2) * 5;
            const open = basePrice + (Math.random() - 0.5) * 2;
            const close = open + (Math.random() - 0.5) * 3;
            const high = Math.max(open, close) + Math.random() * 2;
            const low = Math.min(open, close) - Math.random() * 2;
            
            klineData.push([open, close, low, high]);
            
            difData.push(Math.sin(i * 0.3) * 0.5);
            deaData.push(Math.sin(i * 0.3 - 0.2) * 0.4);
            macdData.push((Math.sin(i * 0.3) - Math.sin(i * 0.3 - 0.2)) * 0.3);
        }
        
        const option = {
            title: {
                text: 'å¸ƒå±€ä¼˜åŒ–æµ‹è¯• - SZ000001',
                left: 'center',
                textStyle: { fontSize: 16 }
            },
            tooltip: {
                trigger: 'axis',
                axisPointer: { type: 'cross' }
            },
            legend: {
                data: ['Kçº¿', 'DIF', 'DEA', 'MACD'],
                top: 30
            },
            grid: [
                { left: '8%', right: '5%', top: '8%', height: '60%' },      // Kçº¿
                { left: '8%', right: '5%', top: '72%', height: '25%' }      // MACD
            ],
            xAxis: [
                { 
                    type: 'category', 
                    data: dates, 
                    gridIndex: 0,
                    axisLabel: { show: false }
                },
                { 
                    type: 'category', 
                    data: dates, 
                    gridIndex: 1
                }
            ],
            yAxis: [
                { 
                    gridIndex: 0,
                    scale: true
                },
                { 
                    gridIndex: 1,
                    scale: true
                }
            ],
            dataZoom: [
                { 
                    type: 'inside', 
                    xAxisIndex: [0, 1],
                    start: 50,
                    end: 100
                },
                { 
                    show: true, 
                    xAxisIndex: [0, 1], 
                    type: 'slider', 
                    bottom: '2%',
                    height: 20
                }
            ],
            series: [
                {
                    name: 'Kçº¿',
                    type: 'candlestick',
                    data: klineData,
                    xAxisIndex: 0,
                    yAxisIndex: 0
                },
                {
                    name: 'DIF',
                    type: 'line',
                    data: difData,
                    smooth: true,
                    symbol: 'none',
                    xAxisIndex: 1,
                    yAxisIndex: 1,
                    lineStyle: { color: '#2ecc71', width: 2 }
                },
                {
                    name: 'DEA',
                    type: 'line',
                    data: deaData,
                    smooth: true,
                    symbol: 'none',
                    xAxisIndex: 1,
                    yAxisIndex: 1,
                    lineStyle: { color: '#e67e22', width: 2 }
                },
                {
                    name: 'MACD',
                    type: 'bar',
                    data: macdData,
                    xAxisIndex: 1,
                    yAxisIndex: 1,
                    itemStyle: {
                        color: function(params) {
                            return params.value >= 0 ? '#ff6b6b' : '#4ecdc4';
                        }
                    },
                    barWidth: '60%'
                }
            ]
        };
        
        myChart.setOption(option);
        
        // å“åº”å¼è°ƒæ•´
        window.addEventListener('resize', function() {
            myChart.resize();
        });
        
        console.log('å¸ƒå±€ä¼˜åŒ–æµ‹è¯•é¡µé¢åŠ è½½å®Œæˆ');
        console.log('å›¾è¡¨åŒºåŸŸç°åœ¨å ç”¨æ›´å¤šç©ºé—´ï¼Œå³ä¾§é¢æ¿æ›´ç´§å‡‘');
    </script>
</body>
</html>