# 前端优化详细计划

## 阶段一：RSI指标显示修复 🔧

### 目标
修复当前图表中缺失的RSI指标显示问题

### 具体任务
1. **修改ECharts配置**
   - 在grid数组中添加第4个子图区域
   - 调整现有子图的高度分配
   - 为RSI指标预留合适的显示空间

2. **添加RSI数据系列**
   - 在series数组中添加RSI线条
   - 配置RSI的超买超卖区域标线
   - 设置合适的颜色和样式

3. **优化Y轴配置**
   - 为RSI子图设置固定的0-100范围
   - 添加20、50、80的参考线

### 预期效果
- RSI指标正常显示在图表底部
- 超买超卖区域清晰可见
- 与其他指标协调统一

---

## 阶段二：侧边操作建议面板 📊

### 目标
在指标显示旁边增加对应的操作建议、入场价格和深度分析逻辑

### 具体任务
1. **创建侧边面板组件**
   - 设计响应式的侧边栏布局
   - 实现可折叠的面板结构
   - 添加美观的UI样式

2. **集成交易建议API**
   - 调用后端的交易建议接口
   - 实时更新操作建议
   - 显示置信度和风险评估

3. **价格分析模块**
   - 显示建议入场价格区间
   - 展示止损位和目标价位
   - 添加风险收益比计算

4. **深度分析逻辑**
   - 解释当前技术指标状态
   - 提供操作理由和逻辑
   - 显示关键支撑阻力位

### 预期效果
- 用户可以直观看到操作建议
- 提供完整的交易决策支持
- 增强用户体验和决策效率

---

## 阶段三：核心池管理功能 🎯

### 目标
支持核心池显示、增加删除、权重指标显示和修改、降级操作

### 具体任务
1. **核心池展示界面**
   - 创建专门的核心池管理页面
   - 以卡片形式展示核心股票
   - 显示每只股票的关键指标

2. **CRUD操作功能**
   - 实现添加股票到核心池
   - 支持从核心池删除股票
   - 批量操作功能

3. **权重管理系统**
   - 可视化权重指标显示
   - 支持拖拽调整权重
   - 权重变化的实时预览

4. **降级机制**
   - 自动降级规则设置
   - 手动降级操作
   - 降级历史记录

### 预期效果
- 完整的核心股票池管理
- 灵活的权重调整机制
- 智能的降级管理

---

## 阶段四：多周期显示优化 ⏰

### 目标
修复当前多周期显示异常，优化多周期分析的用户体验

### 具体任务
1. **修复数据加载问题**
   - 检查多周期API调用逻辑
   - 优化数据格式处理
   - 添加错误处理机制

2. **改进UI交互**
   - 优化模态窗口的响应速度
   - 改进周期切换的流畅度
   - 添加加载状态指示

3. **共振分析可视化**
   - 改进共振得分的展示
   - 优化各周期信号的对比
   - 添加趋势一致性指标

4. **性能优化**
   - 实现数据缓存机制
   - 优化图表渲染性能
   - 减少不必要的API调用

### 预期效果
- 多周期分析功能稳定可用
- 用户交互体验流畅
- 数据展示清晰直观

---

## 技术实施细节

### 文件修改清单
1. `frontend/index.html` - 添加新的UI组件和样式
2. `frontend/js/app.js` - 核心功能逻辑实现
3. `backend/app.py` - 新增API接口支持
4. 新增核心池管理相关的后端模块

### API接口需求
1. `/api/trading_advice/<stock_code>` - 获取交易建议
2. `/api/core_pool` - 核心池管理接口
3. `/api/core_pool/weights` - 权重管理接口
4. `/api/multi_timeframe/fix` - 多周期数据修复接口

### 样式和布局调整
1. 响应式侧边栏设计
2. 核心池管理界面样式
3. 多周期分析的可视化改进
4. 整体UI一致性优化

---

## 实施时间安排

- **第1周**: RSI指标修复 + 侧边面板基础框架
- **第2周**: 完善操作建议功能 + 核心池管理界面
- **第3周**: 权重管理系统 + 多周期显示修复
- **第4周**: 整体测试优化 + 用户体验改进

## 成功标准

1. ✅ RSI指标正常显示，与其他指标协调
2. ✅ 侧边面板提供完整的交易决策支持
3. ✅ 核心池管理功能完整可用
4. ✅ 多周期分析稳定流畅
5. ✅ 整体用户体验显著提升